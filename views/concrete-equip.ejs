<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erkeldy App</title>
    <!--CSS-->
    <link rel="stylesheet" href="/styles/concreateEquipCSS.css">
    <!--Favicon-->
    <link rel="shortcut icon" href="img/banana.png">
    <!--Google Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
            href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Zen+Dots&display=swap"
            rel="stylesheet">
    <!--Jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!--Boostrap-->
    <link href="/bootstrap-5.3.2-dist/css/bootstrap.css" rel="stylesheet">
    <!--Fontawesome icons-->
    <script src="https://kit.fontawesome.com/e4e39c0277.js" crossorigin="anonymous"></script>
</head>

<body data-bs-theme="dark" class="bg-secondary">
<%- include('blocks/header')-%>
<section>
    <div class="container-fluid container-md">
        <div class="row row-cols-1 row-cols-md-2 m-5">
            <div id="carouselExampleIndicators" class="carousel slide col h-100" style="height: auto;">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                            class="active" aria-current="true" aria-label="Slide 1"></button>
<!--                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"-->
<!--                            aria-label="Slide 2"></button>-->
<!--                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"-->
<!--                            aria-label="Slide 3"></button>-->
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="../<%= eq.imagePath %>" class="d-block w-100" alt="...">
                    </div>
<!--                    <div class="carousel-item">-->
<!--                        <img src="/img/1701421 copy.png" class="d-block w-100" alt="...">-->
<!--                    </div>-->
<!--                    <div class="carousel-item">-->
<!--                        <img src="/img/amaran300cblack_8.png" class="d-block w-100" alt="...">-->
<!--                    </div>-->
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

            <div class="col">
                <h3><%= eq.productName%></h3>
                <div class="status-div mt-3">
                    <i class="fa-sharp fa-solid fa-circle-info me-2" style="font-size: 30px;"></i>
                    Available
                </div>
                <p class="price mt-3"><%=eq.price%> â‚¸</p>
                <div class="plus-minus">
                    <i class="fa-solid fa-minus" onclick="minus()" style="cursor: pointer;"></i>
                    <p style="position: relative; top: 8px;" id="count">1</p>
                    <i class="fa-solid fa-plus" onclick="plus(<%= eq.quantity%>)" style="cursor:pointer;"></i>
                </div>
                <button class="btn btn-outline-warning mt-3" style="width: 100px; height: 50px;" onclick="addToCart('<%= eq._id%>')">Add</button>

                <p class="mt-3"><%= eq.description%>
                </p>
            </div>
        </div>
    </div>
</section>

<%- include('blocks/footer')-%>
<script src="/bootstrap-5.3.2-dist/js/bootstrap.js"></script>
<script src="/js/concreateEquipJS.js"></script>
<script src="/js/header.js"></script>
<script>
    function setCookie(name, value, days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    // Function to get a cookie value
    function getCookie(name) {
        const nameEQ = name + "=";
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            let cookie = cookies[i];
            while (cookie.charAt(0) == ' ') {
                cookie = cookie.substring(1, cookie.length);
            }
            if (cookie.indexOf(nameEQ) == 0) {
                return cookie.substring(nameEQ.length, cookie.length);
            }
        }
        return null;
    }

    function addToCart(productId) {
        let cartItems = getCartItems();
        if (!cartItems) {
            cartItems = [];
        }
        cartItems.push(productId);
        setCookie('cartItems', JSON.stringify(cartItems), 7); // Store for 7 days
    }
    function getCartItems() {
        const cartItems = getCookie('cartItems');
        return cartItems ? JSON.parse(cartItems) : [];
    }
    function showCartItems() {
        const cartItems = getCartItems();
        console.log("Cart Items:", cartItems);
    }
</script>
</body>
</html>